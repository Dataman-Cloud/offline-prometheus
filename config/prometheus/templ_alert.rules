ALERT 2048_cpu_usage
  IF irate(container_cpu_usage_seconds_total{container_label_APP_ID='2048'}[5m]) * 100 > 80
  FOR 10s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary = "CPU Usage on {{ $labels.name }} of App {{ $labels.container_label_APP_ID }}",
    description = "High CPU usage on {{ $labels.name }} of App {{ $labels.container_label_APP_ID }}",
  }

ALERT 2048_mem_usage
  IF container_memory_usage_bytes{container_label_APP_ID='2048'} / container_spec_memory_limit_bytes{container_label_APP_ID='2048'} * 100 > 80
  FOR 10s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary = "High Mem usage on {{ $labels.name }}",
    description = "High Mem usage on {{ $labels.name }}",
  }
